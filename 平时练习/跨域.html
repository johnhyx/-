<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>跨域</title>
</head>
<body>
<h1>解决浏览器的跨域问题</h1>
<hr><p>首先说一说浏览器的<b>同源策略</b>，同源策略是浏览的安全基础，同源策略是浏览器安全的基础，同源策略限制从一个源加载的文档或脚本如何与来自另一个
    源的资源进行交互，这是一个用来隔离潜在恶意文件的安全机制；
</p>
<p>在判断两个页面的url是否具有相同的源之前，首先要了解一个url的基本组成，协议：//域名：端口号/路径；端口号可以省略，就算父级域名是一样的
    但是子域不同也不是同一个源；如果协议，端口，域名对于两个页面是相同的，则页面具有相同的源，也就是说判断通院的三要素：协议，端口，域名；
</p>
<h3>cookie和session</h3>
<p>cookie收到浏览器的同源策略的限制，A页面的cookie无法被B页面的到cookie访问和操作，</p>
<p>cookie最大的存储容量一般为4k，有服务器生成在HTTp报文首部设置set-cookie，可以指定生成cookie的内容和生命周期，如果有浏览器生成，则在浏览器
    被关掉生效；
</p>
<p>session存储在服务器，主要与cookie配合完成身份认证和状态保持的功能；</p>
<p>session机制决定当前只会获取到自己的session，而不会回去的别人的session</p>
<p>关于iframe，iframe可以在父页面嵌入一个子页面，在日常开发使用中，可能会获取到其他ifrane的dom或者获取到ifrane上的全局变量和方法；</p>
<hr><h2>解决跨域</h2>
<h4>一、Cors---跨域资源共享</h4>
<p>什么是跨域资源共享</p>
<p>它允许浏览器想跨域服务器发出XMLHttpRequest请求，从而客服AJAX只能同源发送请求的限制</p>
<p>浏览器将Cors分为两种请求方式：一是简单请求，而是非简单请求；</p>
<h4>简单请求</h4>
<p>只要他是满足下面的条件，就属于简单请求<br>(1).请求方式是以下三种方法之一{HEAD，GET，POST}<br>(2).HTTP的头信息不超过以下几种字段
    {Accept，Accept-Language，Content-Language，Last-Event-ID}
</p>
<p>不同时满足的就是非简单请求</p>
<h4>二、用Node实现跨域资源共享</h4>
<h4>三、基于JSONP实现跨域</h4>
<p>对于jsonp来说，他是利用某些不受同源限制的标签的漏洞，来解决跨域问题；</p>
<p>借用script标签不受同源策略的限制的特性，动态给页面添加script利用事先声明的数据处理来获取数据</p>
<p>jsonp是应用json数据的一种新方法，他不过是函数调用的的json在jsonp中包含的两个部分：回调函数和数据，其中回调函数就是在响应来的时候
    放在当前页面被执行的数据；
</p>
<h3>过程</h3>
<p>1.当我们通过新建一个script标签请求时，后台会根据相应的参数来生成相应的json数据，比如说传递给后台Data，
    然后后台就会生成相应的json数据：Data{‘date’：‘这里是数据’}；
</p>
<p>2.接着这个返回的json数据其实就可以被看做一个js脚本，就是对一个函数的调用</p>
<p>3.由于我们已经声明可一个回调函数，于是当资源被加载时，直接就对函数进行调用，函授数据就被获取到了</p>
<p>4.跨域完成，要实现跨域，后台服务器也要做一些相应的设置；</p>
</body>
</html>